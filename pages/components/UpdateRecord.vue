<script lang="ts" setup>
import { computed } from 'vue';
import { McButton, McSpace, McInput, McIcon } from 'meetcode-ui';
import { FlashOutline, Search, PricetagOutline } from '@vicons/ionicons5';

const props = defineProps<{ component: string }>();
const emit = defineEmits<{ (e: 'close'): void }>();

const ChangeLog = [
    {
        version: '0.0.37',
        date: '2022-07-12',
        logs: [
            {
                component: 'popup',
                type: 'üêõ Bug‰øÆÂ§ç',
                description: '‰øÆÂ§ç‰∫ÜÂú®Áã¨Á´ãVueÁªÑ‰ª∂‰∏≠Êó†Ê≥ï‰ΩøÁî® vue-router Á≠âÊèí‰ª∂ÁöÑÈóÆÈ¢ò'
            }
        ]
    }
];
const logs = computed(() => ChangeLog[0].logs.filter(log => log.component === props.component));

const handleClick = () => {
    emit('close');
};
</script>

<template>
    <div class="mc-flex mc-flex-col mc-h-full">
        <div class="mc-flex-1 mc-flex mc-flex-col">
            <div class="mc-flex">
                <McInput style="width: 200px; margin-right: 16px" placeholder="ÈÄâÊã©ÁâàÊú¨">
                    <template #suffix>
                        <McIcon :icon="FlashOutline" />
                    </template>
                </McInput>
                <McInput placeholder="ÈÄâÊã©ÂèòÊõ¥Á±ªÂûã">
                    <template #suffix>
                        <McIcon :icon="Search" />
                    </template>
                </McInput>
            </div>
            <div v-if="logs.length > 0" class="mc-mt-5">
                <McSpace vertical :gap="4">
                    <div class="mc-text-2xl mc-font-medium">0.0.37</div>
                    <div>2022-07-12</div>
                    <div v-for="log in logs">
                        <div class="mc-text-lg mc-font-medium">{{ log.type }}</div>
                        <ul>
                            <li>{{ log.description }}</li>
                        </ul>
                    </div>
                </McSpace>
            </div>
            <div v-else class="mc-flex-1 mc-flex mc-items-center mc-justify-center mc-text-xl mc-text-gray-400">
                <McIcon class="mc-mr-2" :icon="PricetagOutline" :size="20" />
                ÊöÇÊó†Êï∞ÊçÆ
            </div>
        </div>
        <McSpace justify="flex-end">
            <McButton ghost @click="handleClick">ÂèñÊ∂à</McButton>
            <McButton type="success" @click="handleClick">Á°ÆÂÆö</McButton>
        </McSpace>
    </div>
</template>
